!function(){$(document).ready(function(){function t(t,e){for(var r=1;r<=moment(e).month(t).daysInMonth();r++){var n=$('<div class="singleDay"></div>');$(".content").append(n.text(r)),r==currentDay&&$(".singleDay:nth-child("+r+")").addClass("current")}}function e(t,e,r){var n=moment(t+e+r).startOf("month").format("llll").substr(0,3);switch(n){case"Tue":$(".singleDay:first-child").css({"margin-left":"134px"});break;case"Wed":$(".singleDay:first-child").css({"margin-left":"264px"});break;case"Thu":$(".singleDay:first-child").css({"margin-left":"394px"});break;case"Fri":$(".singleDay:first-child").css({"margin-left":"524px"});break;case"Sat":$(".singleDay:first-child").css({"margin-left":"654px"});break;case"Sun":$(".singleDay:first-child").css({"margin-left":"784px"})}console.log(t,e,r)}function r(){$(".singleDay").click(function(){var t=$(this),e=(t.width(),t.height(),t.offset().top),r=t.offset().left;4!=$(".contentWrap").children().length?(overlayDiv=$("<div class='selected'></div>"),overlayDiv.css({top:e+"px",left:r+"px"}),$(".contentWrap").append(overlayDiv)):$(".selected").css({top:e+"px",left:r+"px"})})}function n(){$(".toToday").click(function(){$(".selected").remove(),o=parseInt(moment().format("M"))-1,currentYear=parseInt(moment().format("Y")),a.text(moment().format("MMMM")+" "+currentYear),$(".singleDay").remove(),t(o),r()})}var a=$("<h1></h1>"),o=($("<div class='toToday'>Today</div>"),moment().format("MMMM"));moment().format("MMMM Y");currentYear=2016,currentDay=moment().format("D").toString(),sep="-",currentDate=moment().format("MMMM")+" "+moment().format("Y"),$(".backTo").append(a.text(currentDate)),t(o),e(),r(),$(".aRight, .aLeft").click(function(){$(".selected");4==$(".contentWrap").children().length&&$($(".contentWrap").children(":last-child")).remove()}),o=parseInt(moment().format("M"))-1,currentYear=parseInt(moment().format("Y")),$(".aRight").click(function(){o+=1;var t=moment().month(o).format("MMMM");"January"==t&&(currentYear+=1,o=0),a.text(t+" "+currentYear),$(".singleDay").remove(),console.log(o);for(var c=1;c<=moment(+currentYear+"-"+String(o+1)).daysInMonth();c++){var i=$('<div class="singleDay"></div>');$(".content").append(i.text(c)),a.text()==currentDate&&c==currentDay&&$(".singleDay:nth-child("+c+")").addClass("current")}var s=String(currentYear),m=String(o+1);e(s,sep,m),r(),n(currentYear)}),$(".aLeft").click(function(){o-=1;var t=moment().month(o).format("MMMM");"December"==t&&(currentYear-=1,o=11),a.text(t+" "+currentYear),$(".singleDay").remove();for(var c=1;c<=moment(+currentYear+"-"+String(o+1)).daysInMonth();c++){var i=$('<div class="singleDay"></div>');$(".content").append(i.text(c)),a.text()==currentDate&&c==currentDay&&$(".singleDay:nth-child("+c+")").addClass("current")}var s=String(currentYear),m=String(o+1);e(s,sep,m),r(),n()}),$("#submit").submit(function(c){$(".singleDay").remove();var i=$("input").val(),s=moment().month(i).format("M"),m="-",l=[];if(/\d/.test(i)){for(var f=0;f<i.length;f++)/\d/.test(i[f])&&l.push(i[f]);var u=l.join("");return a.text(moment(i).format("MMMM Y")),t(i,u),e(u,m,s),r(),n(),$("input").val(""),!1}return t(o),currentYear=moment().year(),o=moment().format("MMMM"),e(currentYear,m,o),a.text(moment().format("MMMM Y")),r(),n(),$("input").val(""),!1})})}();