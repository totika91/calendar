!function(){$(document).ready(function(){function e(){for(var e=1;e<=moment().daysInMonth();e++){var t=$('<div class="singleDay"></div>');$(".content").append(t.text(e)),e==currentDay&&$(".singleDay:nth-child("+e+")").addClass("current")}}function t(e,t,n){var r=moment(e+t+n).startOf("month").format("llll").substr(0,3);switch(r){case"Tue":$(".singleDay:first-child").css({"margin-left":"134px"});break;case"Wed":$(".singleDay:first-child").css({"margin-left":"264px"});break;case"Thu":$(".singleDay:first-child").css({"margin-left":"394px"});break;case"Fri":$(".singleDay:first-child").css({"margin-left":"524px"});break;case"Sat":$(".singleDay:first-child").css({"margin-left":"654px"});break;case"Sun":$(".singleDay:first-child").css({"margin-left":"784px"})}}function n(){$(".singleDay").click(function(){var e=$(this),t=(e.width(),e.height(),e.offset().top),n=e.offset().left;4!=$(".contentWrap").children().length?(overlayDiv=$("<div class='selected'></div>"),overlayDiv.css({top:t+"px",left:n+"px"}),$(".contentWrap").append(overlayDiv)):$(".selected").css({top:t+"px",left:n+"px"})})}function r(){$(".toToday").click(function(){$(".selected").remove(),c=parseInt(moment().format("M"))-1,currentYear=parseInt(moment().format("Y")),a.text(moment().format("MMMM")+" "+currentYear),$(".singleDay").remove(),e(),n()})}var a=$("<h1></h1>"),c=($("<div class='toToday'>Today</div>"),moment().format("MMMM"));moment().format("MMMM Y");currentYear=2016,currentDay=moment().day(),currentDate=moment().format("MMMM")+" "+moment().format("Y"),$(".backTo").append(a.text(currentDate)),e(),t(),n(),$(".aRight, .aLeft").click(function(){$(".selected");4==$(".contentWrap").children().length&&$($(".contentWrap").children(":last-child")).remove()}),c=parseInt(moment().format("M"))-1,currentYear=parseInt(moment().format("Y")),$(".aRight").click(function(){c+=1;var e=moment().month(c).format("MMMM");"January"==e&&(currentYear+=1,c=0),a.text(e+" "+currentYear),$(".singleDay").remove(),console.log(c);for(var i=1;i<=moment(+currentYear+"-"+String(c+1)).daysInMonth();i++){var s=$('<div class="singleDay"></div>');$(".content").append(s.text(i)),a.text()==currentDate&&i==currentDay&&$(".singleDay:nth-child("+i+")").addClass("current")}var o=String(currentYear),l="-",m=String(c+1);t(o,l,m),n(),r(currentYear)}),$(".aLeft").click(function(){c-=1;var e=moment().month(c).format("MMMM");"December"==e&&(currentYear-=1,c=11),a.text(e+" "+currentYear),$(".singleDay").remove();for(var i=1;i<=moment(+currentYear+"-"+String(c+1)).daysInMonth();i++){var s=$('<div class="singleDay"></div>');$(".content").append(s.text(i)),a.text()==currentDate&&i==currentDay&&$(".singleDay:nth-child("+i+")").addClass("current")}var o=String(currentYear),l="-",m=String(c+1);t(o,l,m),n(),r()}),$("#submit").submit(function(e){$(".singleDay").remove();$("input").val();e.preventDefault()})})}();