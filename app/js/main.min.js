!function(){$(document).ready(function(){function e(){for(var e=1;e<=moment().daysInMonth();e++){var t=$('<div class="singleDay"></div>');$(".content").append(t.text(e)),e==currentDay&&$(".singleDay:nth-child("+e+")").addClass("current")}}function t(e,t,n){function r(e,t,n){return e+t+n}var a=moment(r(e,t,n)).startOf("month").format("llll").substr(0,3);switch(a){case"Tue":$(".singleDay:first-child").css({"margin-left":"134px"});break;case"Wed":$(".singleDay:first-child").css({"margin-left":"264px"});break;case"Thu":$(".singleDay:first-child").css({"margin-left":"394px"});break;case"Fri":$(".singleDay:first-child").css({"margin-left":"524px"});break;case"Sat":$(".singleDay:first-child").css({"margin-left":"654px"});break;case"Sun":$(".singleDay:first-child").css({"margin-left":"784px"})}}function n(){$(".singleDay").click(function(){var e=$(this),t=(e.width(),e.height(),e.offset().top),n=e.offset().left;4!=$(".contentWrap").children().length?(overlayDiv=$("<div class='selected'></div>"),overlayDiv.css({top:t+"px",left:n+"px"}),$(".contentWrap").append(overlayDiv)):$(".selected").css({top:t+"px",left:n+"px"})})}function r(){c.text()=="February "+currentYear&&currentYear%4==0&&$(".content").append($('<div class="singleDay"></div>').text("29"))}function a(){$(".toToday").click(function(){$(".selected").remove(),s=parseInt(moment().format("M"))-1,currentYear=parseInt(moment().format("Y")),c.text(moment().format("MMMM")+" "+currentYear),$(".singleDay").remove(),e(),n()})}var c=$("<h1></h1>"),s=($("<div class='toToday'>Today</div>"),moment().format("MMMM"));moment().format("MMMM Y");currentYear=2016,currentDay=moment().day(),currentDate=moment().format("MMMM")+" "+moment().format("Y"),$(".backTo").append(c.text(currentDate)),e(),t(),n(),$(".aRight, .aLeft").click(function(){$(".selected");4==$(".contentWrap").children().length&&$($(".contentWrap").children(":last-child")).remove()}),s=parseInt(moment().format("M"))-1,currentYear=parseInt(moment().format("Y")),r(),$(".aRight").click(function(){s+=1;var e=moment().month(s).format("MMMM");"January"==e&&(currentYear+=1,s=0),c.text(e+" "+currentYear),$(".singleDay").remove(),console.log(s);for(var i=1;i<=moment(s+1).daysInMonth();i++){var o=$('<div class="singleDay"></div>');$(".content").append(o.text(i)),c.text()==currentDate&&i==currentDay&&$(".singleDay:nth-child("+i+")").addClass("current")}r();var l=parseInt(currentYear),m="/",d=parseInt(s+1);t(l,m,d),n(),a(currentYear)}),$(".aLeft").click(function(){s-=1;var e=moment().month(s).format("MMMM");"December"==e&&(currentYear-=1,s=11),c.text(e+" "+currentYear),$(".singleDay").remove();for(var i=1;i<=moment(s+1).daysInMonth();i++){var o=$('<div class="singleDay"></div>');$(".content").append(o.text(i)),c.text()==currentDate&&i==currentDay&&$(".singleDay:nth-child("+i+")").addClass("current")}r(currentYear);var l=parseInt(currentYear),m="/",d=parseInt(s+1);console.log(currentYear),t(l,m,d),n(),a()}),$("#submit").submit(function(e){$(".singleDay").remove();$("input").val();e.preventDefault()})})}();